← [返回《Ⅲ.数据计算》](/trpg/rules/player_rules/3.data/index)

# 法术伤害计算系统
---

本页面用于定义《塑忆之诗》中 **法术伤害的完整计算方法**。  
本世界仅存在两种魔力物质（两种“极性”）：

- **极魔力物质**
- **对魔力物质**

不存在第三种魔法属性。

---

## 1. 核心数据定义
---

### 魔力结合度
魔力结合度为角色与某一种魔力物质的结合比例，以百分比表示。  
记为：`B%`（例如 30% 记为 `B = 0.30`）

魔力结合度影响：

- 法术输出强度
- 法术抗性（同属性减伤）
- 异属性增伤（相性放大）

---

### 攻击力
本系统中，法术伤害的基准取值来自角色的 **攻击力**。  
记为：`ATK`

> 注：攻击力的来源与计算方式见《Ⅲ.数据计算》页面。

---

### 法术抗性
法术抗性为目标对法术伤害的削减比例。  
默认规则：

法术抗性 = 目标的魔力结合度


记为：`RES`（例如 20% 记为 `RES = 0.20`）

---

## 2. 基础法术伤害
---

无论同属性还是异属性，法术伤害均从“基础法术伤害”开始计算：

基础法术伤害 = ATK × B

其中 `B` 使用小数形式参与计算（30% = 0.30）。

---

## 3. 属性相性机制
---

### 3.1 同属性（同极性）
当攻击方魔力物质类型 **与** 目标魔力物质类型一致时，属于同属性（同极性）攻击。  

同属性攻击仅受法术抗性削减：

最终伤害 = 基础法术伤害 × (1 − RES)

---

### 3.2 异属性（异极性）
当攻击方魔力物质类型 **与** 目标魔力物质类型不同，则属于异属性（异极性）攻击。

异属性攻击会触发增伤倍率，增伤倍率由 **攻击方魔力结合度** 决定：

增伤倍率 = 1 + (B ÷ 2)

最终公式：

最终伤害 = 基础法术伤害 × 增伤倍率 × (1 − RES)

---

## 4. 取整规则
---

法术伤害计算中出现小数时，统一采用：

> **四舍五入**

即：`1.1 → 1`，`1.5 → 2`，`2.0 → 2`

---

## 5. 完整计算顺序（必须按顺序执行）
---

1. 计算基础法术伤害：`ATK × B`
2. 判断同/异属性
3. 若为异属性：乘以增伤倍率 `1 + (B ÷ 2)`
4. 乘以法术抗性削减项 `(1 − RES)`
5. 对最终伤害进行四舍五入

---

## 6. 示例
---

### 示例A：无抗性目标（仅基础伤害）
攻击力 `ATK = 5`  
结合度 `B = 30% = 0.30`  
目标无法抗 `RES = 0`

基础法术伤害 = 5 × 0.30 = 1.5 → 2
最终伤害 = 2

---

### 示例B：同属性 + 法抗
攻击力 `ATK = 5`  
结合度 `B = 0.30`  
目标法抗 `RES = 0.30`


基础法术伤害 = 5 × 0.30 = 1.5 → 2
最终伤害 = 2 × (1 − 0.30) = 1.4 → 1


---

### 示例C：异属性 + 法抗
攻击力 `ATK = 5`  
结合度 `B = 0.30`  
目标法抗 `RES = 0.20`

基础法术伤害 = 5 × 0.30 = 1.5 → 2
增伤倍率 = 1 + (0.30 ÷ 2) = 1.15
最终伤害 = 2 × 1.15 × (1 − 0.20)
= 2 × 1.15 × 0.80
= 1.84 → 2

---

## 7. 极端情况与裁定
---

- 当 `B = 0`：无法产生法术伤害（伤害视为0）
- 当 `RES ≥ 1.00`：最终法术伤害视为0
- 若目标不存在魔力结合度（例如纯机械体、无魔法生物等），其 `RES` 由管理员按设定裁定，默认可为0

---

